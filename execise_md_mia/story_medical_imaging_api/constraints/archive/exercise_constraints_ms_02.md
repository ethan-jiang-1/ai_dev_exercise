# ExMS_02 医学影像格式转换功能约束

本文档详细说明ExMS_02练习系列的具体约束与要求，应与通用约束文档一同参考。

## 总体约束

1. **简洁性**: 保持解决方案的简单，避免复杂设计
2. **时间限制**: 每个步骤应在10-15分钟内完成
3. **代码长度**: 完整实现不超过150行代码
4. **文档质量**: 注释和文档应简洁明了
5. **单文件实现**: 功能实现应保持在单个Python文件中

## 各步骤具体约束

### ExMS_02_1: 实现分析

- **输出文件**: `s1_implementation_analysis.md`
- **篇幅限制**: 不超过一页（约300-400字）
- **内容约束**:
  - 必须识别至少3个关键技术挑战
  - 分析至少两种格式转换方法的优缺点
  - 重点关注影像质量保持和像素数据处理

### ExMS_02_2: 行动计划

- **输出文件**: `s2_action_plan.md`
- **任务数量**: 分解为3-5个具体任务
- **代码框架约束**:
  - 主函数框架不超过30行
  - 必须明确支持的输入/输出格式
  - 必须包含参数和返回值类型注释
  - 必须提供错误处理策略

### ExMS_02_3: 单元测试设计

- **输出文件**: `test_image_converter.py`
- **测试用例约束**:
  - 至少包含5-7个测试用例
  - 必须覆盖所有支持的格式转换组合
  - 必须测试异常情况处理
  - 使用unittest框架
  - 测试代码不超过100行

### ExMS_02_4: 功能实现

- **输出文件**: `image_converter.py`
- **代码约束**:
  - 必须使用pydicom和PIL/Pillow库
  - 必须支持至少三种格式转换（DICOM到PNG/JPG/TIFF）
  - 必须实现所有测试用例对应的功能
  - 必须包含完整的错误处理
  - 代码不超过120行

### ExMS_02_5: 功能文档

- **输出文件**: 更新后的`image_converter.py`
- **文档约束**:
  - 必须使用Google风格的docstrings
  - 每个函数必须有完整的参数和返回值文档
  - 必须包含至少两个使用示例
  - 必须详细说明支持的格式和转换限制
  - 必须包含模块级别的文档

## 评估标准

评估将根据以下标准进行：

1. **简洁性**: 解决方案是否简单直接
2. **完整性**: 是否满足所有格式转换需求
3. **可读性**: 代码和文档是否清晰易懂
4. **正确性**: 转换后的图像是否保持原始质量和信息
5. **性能**: 转换过程是否高效

## 最终目标

ExMS_02系列的目标是实现一个可靠的医学影像格式转换功能，能将DICOM格式转换为常见的图像格式，同时保持图像质量和关键属性。复杂度略高于ExMS_01，需要同时处理像素数据和元数据信息。 