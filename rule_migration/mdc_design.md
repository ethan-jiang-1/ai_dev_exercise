# MDC规则设计方案

## 规则集组织架构

### 核心定位

MDC规则的根本目的是：
1. **主动指导**：在开发者编码时主动提供指导，而不是事后检查
2. **及时纠正**：在不良习惯形成之前及时纠正
3. **实践传承**：将团队的最佳实践和经验教训系统化
4. **降低认知负担**：在正确的时机提供正确的指导

### 重要说明

**MDC文件格式规范**：
1. 元数据头部必须位于文件最顶部
2. 元数据必须使用严格的YAML格式
3. 只支持 `description`、`globs` 和 `alwaysApply` 字段
4. 头部格式示例：
```
---
description: 规则描述（突出核心思想和价值）
globs: ["文件匹配模式"]
alwaysApply: false
---
```

### MDC内容结构规范

每个MDC文件必须突出"为什么"和"怎么做"，遵循以下结构：

1. **核心原则宣言**
   - ⚡️ 开门见山点明本规则要解决的核心问题
   - 💥 指出违反这些原则会带来的具体后果
   - 💎 说明遵循这些原则能获得的实际收益
   - ⚖️ 说明原则之间的权衡取舍

2. **关键实践指南**
   - 每个实践必须说明"为什么这样做"
   - 提供对比鲜明的正反例
   - 给出实际的重构路径
   - 说明常见的陷阱和解决方案

3. **决策指导**
   - 给出明确的判断标准
   - 提供具体的决策树
   - 说明不同方案的代价和收益
   - 指出何时该重新评估决策

4. **Checklist**
   - 每个检查项都要有明确的判断标准
   - 按照开发流程的时序组织
   - 包含自动化检查的可能性
   - 提供问题快速修复的指导

示例结构：
```markdown
# 规则标题

## 核心原则宣言

⚡️ 核心问题：
[一句话说明这个规则要解决什么问题]

💥 不遵循的后果：
- 具体后果1
- 具体后果2

💎 遵循的收益：
- 具体收益1
- 具体收益2

⚖️ 需要权衡：
- 权衡点1：xxx VS xxx
- 权衡点2：xxx VS xxx

### 关键实践

#### 实践一：[实践名称]

为什么需要这样做：
[具体解释]

❌ 常见错误：
```python
# 错误示例代码
```

✅ 正确做法：
```python
# 正确示例代码
```

🔄 重构路径：
1. 第一步
2. 第二步
3. 第三步

#### 实践二：[实践名称]
...

### 决策指导

🌲 决策树：
1. 判断条件A
   - 是 -> 方案1
   - 否 -> 继续判断B
2. 判断条件B
   ...

📊 方案对比：
| 方案 | 适用场景 | 优势 | 劣势 | 注意事项 |
|-----|---------|-----|-----|---------|
| 方案1 | xxx | xxx | xxx | xxx |
| 方案2 | xxx | xxx | xxx | xxx |

### Checklist

#### 编码阶段
- [ ] 检查项1
      判断标准：xxx
      快速修复：xxx
- [ ] 检查项2
      判断标准：xxx
      快速修复：xxx

#### 重构阶段
...

#### 审查阶段
...
```


