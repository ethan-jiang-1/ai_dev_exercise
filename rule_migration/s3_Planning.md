# s3: 计划 - MDC 迁移策略 (Planning - MDC Migration Strategy)

本文档概述了将现有规则迁移到 MDC 格式的分阶段方法和内容重组维度。

## 内容重组维度 (Content Reorganization Dimensions)

我们对旧规则集的分析表明，现有内容需要按照不同的维度进行重新组织，以充分利用 MDC 格式的优势：

1. **功能维度 (Functional Dimension):**
   * 从旧规则中提取相关功能的内容，重组为主题聚焦的 MDC 规则
   * 例如：从多个旧规则中提取所有与"错误处理"相关的内容，整合到 `error_handling.mdc`

2. **开发阶段维度 (Development Phase Dimension):**
   * 按照软件开发生命周期的不同阶段组织内容
   * 例如：项目初始化、编码规范、测试、文档等

3. **应用范围维度 (Application Scope Dimension):**
   * 基于内容适用的文件类型和上下文进行分组
   * 例如：所有适用于测试文件的指南整合到 `unit_testing.mdc`

4. **原则与实践分离 (Principles vs. Practices Separation):**
   * 将高层次的原则与具体的实现技术分开
   * 例如：将核心设计原则整合到 `principles.mdc`，将具体编码实践整合到专题规则中

## 迁移和重组阶段 (Migration/Reorganization Phases)

每个MDC规则文件的内容定位和维度如下：

### principles.mdc (核心原则)
* **定位**: 高层次的设计和开发原则，指导整体代码质量
* **重组维度**: 原则导向，适用全局
* **重组方式**:
  * 提取核心思想，重新按 MDC 四段式结构组织
  * 添加实际代码示例，展示原则的应用
  * 扩展为完整的实践指南，包括决策树和检查清单

### structure.mdc (项目结构)
* **定位**: 项目文件和目录组织的最佳实践
* **重组维度**: 项目架构，适用项目初始化阶段
* **重组方式**:
  * 将项目结构相关内容提升为独立规则
  * 添加更多关于不同类型项目的结构建议
  * 包含具体的目录组织和文件命名实践

### coding_style.mdc (编码风格)
* **定位**: 代码格式和风格约定
* **重组维度**: 代码可读性和一致性，适用编码阶段
* **重组方式**:
  * 聚焦于纯代码风格相关内容
  * 提供清晰的格式规范和示例
  * 添加自动格式化工具的使用指南

### imports.mdc (导入规范)
* **定位**: 模块导入和依赖管理的最佳实践
* **重组维度**: 代码组织和依赖管理，适用编码阶段
* **重组方式**:
  * 整合所有与导入相关的规范和建议
  * 提供导入顺序和组织的明确指导
  * 添加依赖管理和优化的实践

### error_handling.mdc (错误处理)
* **定位**: 异常处理和错误管理的综合指南
* **重组维度**: 代码健壮性，适用编码和重构阶段
* **重组方式**:
  * 建立完整的错误处理框架
  * 按错误类型和处理策略分类
  * 提供具体的错误处理代码示例和模式

### unit_testing.mdc (单元测试)
* **定位**: 测试编写和组织的最佳实践
* **重组维度**: 代码质量保证，适用测试阶段
* **重组方式**:
  * 整合所有与测试相关的指南
  * 提供不同类型测试的编写模式
  * 包含测试组织和执行的最佳实践

### api_documentation.mdc (API文档)
* **定位**: API接口文档的编写规范
* **重组维度**: 代码接口文档，适用文档阶段
* **重组方式**:
  * 专注于函数、类和模块级别的文档标准
  * 提供API文档示例和模板
  * 包含自动文档生成指南

### technical_docs.mdc (技术文档)
* **定位**: 系统和架构级文档的编写指南
* **重组维度**: 系统文档，适用规划和文档阶段
* **重组方式**:
  * 将所有高级文档相关的指南整合到一个规则中
  * 按文档类型（README、架构文档等）重新组织
  * 添加实际的文档模板和示例

## 元数据策略 (Metadata Strategy)

每个MDC规则应设计适合其内容和触发场景的元数据：

* **description**: 简明扼要地描述规则的核心价值和适用场景
* **globs**: 精确定义触发规则的文件类型和路径模式
* **alwaysApply**: 统一设置为false，确保规则在适当上下文中触发



