# MDC规则概述

## 核心定位与价值

MDC规则的根本目的是通过主动指导和及时反馈来提升代码质量。我们强调：

1. **主动指导而非被动检查**
   - 在开发者编码时就主动提供指导
   - 通过及时的建议避免错误的编码实践
   - 降低后期修改的成本

2. **在不良习惯形成前及时纠正**
   - 实时识别潜在的问题模式
   - 提供即时的改进建议
   - 帮助开发者培养良好的编码习惯

3. **系统化的最佳实践传承**
   - 将团队积累的经验转化为可执行的指导
   - 确保新成员能快速理解和应用团队标准
   - 维护团队技术实践的一致性

4. **降低认知负担**
   - 在恰当的时机提供相关的指导
   - 避免开发者需要记住所有规则细节
   - 让规则成为开发流程中自然的一部分


## MDC规则更新流程

为了避免与Cursor的MDC文件监控机制产生冲突，更新MDC规则文件时请遵循以下步骤：

### 更新步骤
1. **备份转换**
   - 将原MDC文件复制并重命名为TXT格式
   - 保持文件内容和结构不变

2. **内容更新**
   - 在TXT文件中进行所需的修改
   - 确保遵循MDC文件格式规范
   - 验证修改的正确性

3. **文件替换**
   - 删除原有的MDC文件
   - 将更新后的TXT文件重命名为MDC格式

### 注意事项
- 确保在完成所有修改后再进行文件转换
- 保持文件命名的一致性
- 验证新文件的格式和内容是否符合规范

## 关键特性

### 1. 清晰的检查清单
每个MDC规则文件都必须包含明确的检查清单（Checklist），确保：
- 每个检查项都有具体的判断标准
- 提供明确的执行指导
- 包含问题快速修复的方法

### 2. 结构化的内容组织
MDC文件采用统一的结构组织：
- 核心原则宣言：说明规则要解决的问题
- 关键实践指南：提供具体的实施方法
- 决策指导：帮助开发者做出正确的技术选择
- 检查清单：确保规则被正确执行

### 3. 元数据驱动
每个MDC文件都通过元数据头部定义其作用范围和触发条件：

## MDC文件格式规范

### 1. 元数据要求
- 元数据必须位于文件最顶部
- 必须使用严格的YAML格式
- 只支持以下字段：
  * `description`: 规则描述 就是描述, 没有""
  * `globs`: 文件匹配模式 - 就是匹配的文件名的通配符,  是字符串, 没有""
  * `alwaysApply`: 是否始终应用, false

### 2. 标准格式示例 
```yaml
---
description: 规则描述（突出核心思想和价值）
globs: *.py,test_*.py
alwaysApply: false
---
```

### 3. 内容结构规范
每个MDC文件必须包含：

```markdown
# 规则标题

## 核心原则宣言
⚡️ 核心问题：[一句话说明这个规则要解决什么问题]
💥 不遵循的后果：[具体列举]
💎 遵循的收益：[具体列举]
⚖️ 需要权衡：[具体的取舍点]

## 关键实践
[具体的实践指导，包含代码示例]

## 决策指导
[包含判断标准和决策树]

## Checklist
- [ ] 检查项1
      判断标准：xxx
      快速修复：xxx
```

### 4. 实际应用场景

1. **创建新项目时**
```yaml
---
description: 项目初始化最佳实践
globs: ["setup.py", "requirements.txt"]
alwaysApply: false
---
```

2. **编写测试用例时**
```yaml
---
description: 单元测试编写规范
globs: ["test_*.py", "*_test.py"]
alwaysApply: false
---
```

3. **处理异常时**
```yaml
---
description: 异常处理最佳实践
globs: ["*try*except*.py", "*raise*.py"]
alwaysApply: false
---
```

## 使用指南

### 规则触发机制
- 基于文件类型和内容自动触发相关规则
- 支持手动触发以获取特定指导
- 通过元数据控制规则的应用范围

### 规则维护原则
1. 持续优化
   - 根据实际使用反馈调整规则内容
   - 及时更新以反映最新的最佳实践
   - 删除或修改不再适用的规则

2. 价值导向
   - 每条规则都必须能带来明确的价值
   - 避免过于理论化的内容
   - 确保规则能够落地执行

3. 实用性优先
   - 提供具体的代码示例
   - 包含常见问题的解决方案
   - 注重实际开发场景的指导 