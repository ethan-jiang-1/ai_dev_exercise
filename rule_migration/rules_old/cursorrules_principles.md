# Python 开发核心原则

## KISS 原则 (Keep It Simple Stupid)
- 编写最简单可行的代码实现
- 避免过度设计和不必要的抽象
- 确保代码易于理解和维护
- 让其他开发者和 AI 工具能够轻松理解代码逻辑

## 单一职责原则
- 每个模块专注于单一功能
- 每个类/函数只负责一个明确的任务
- 避免过度耦合，保持模块间的独立性

## 渐进式开发
- 采用小步迭代的开发方式
- 先实现核心框架，再逐步完善细节
- 保持代码的可测试性

## 项目结构

### 目录组织
- 源码、测试、文档、配置分离
- 使用 README.md 说明功能
- 使用 diagrams/ 存放架构图
- 不过度嵌套目录结构

### 依赖管理
- 使用 venv 管理虚拟环境(.venv目录)
- 使用 .env 管理配置和密钥
- 使用 .gitignore 管理版本控制
- 遵循依赖注入原则

## 编码规范

### 代码质量
- 所有文件必须有类型注解
- 所有函数/类必须有文档字符串(PEP 257)
- 使用 Ruff 保持代码风格
- 保留现有注释

### 数据处理
- 使用 dataclass 定义数据结构
- 使用 pydantic 进行数据验证

### 异步和错误处理
- 使用 async/await 处理异步
- 统一的日志记录方式
- 合理的错误处理和上下文

## 最佳实践

### AI友好
- 类型注解要合理但不过度
- 保持代码结构清晰
- 优化代码以适应AI辅助开发
- 提供完整的上下文信息
- 使用统一的命名规范和代码风格
- 关键逻辑添加详细注释

### 代码维护
- 定期代码审查
- 持续重构改进
- 保持代码可测试性

### 错误处理
- 分层次的错误处理机制
  - 系统级错误(如API连接失败)
  - 业务级错误(如数据验证失败)
  - 用户交互错误(如输入不明确)
- 错误信息要清晰且可追踪
- 保持错误处理的一致性 