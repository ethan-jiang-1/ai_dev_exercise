> **Note:** All file paths in this document are relative to the exercise's root directory: `exercise_md_mia/` (unless otherwise specified).

# User Story: Medical Imaging Analysis API - part 4

(参考核心开发理念：[思考驱动开发与AI协作](teaching_framework/thinking_driven_development_with_ai_complex.md))
> **实现目录说明**：本练习的实际实现位于 `./exercise_md_mia/` 目录下。

## 1. User Story (用户故事)

# 医疗影像API：AI+Markdown练习故事实例

> **重要约束**：在整个故事实践过程中，请确保所有在Cursor中的交互对话均使用中文，这是出于演示目的的要求。

本文档描述了"医疗影像API"这个故事实例的背景、业务场景和相关资料，用于支持AI+Markdown练习框架。本故事聚焦于一个医疗机构的影像分析API开发和部署场景。

## 故事背景

"HealthVision"是一家正在成长的医疗科技公司，专注于开发医疗影像分析工具，帮助医生更快速、准确地诊断疾病。公司计划开发一个医疗影像API，使医院和诊所能够轻松集成影像分析功能到现有的医疗系统中。你作为后端开发工程师，被分配到医疗影像API团队，需要参与从需求分析到最终部署的全过程。

## 业务目标

1. 开发稳定、安全的医疗影像分析API
2. 确保API符合医疗数据安全和隐私法规要求
3. 提供高效、准确的影像分析算法集成
4. 构建可扩展的架构，支持未来新算法的快速整合

## 团队角色

- **产品经理 (陈明)**: 负责医疗影像API的产品规划
- **后端负责人 (王伟)**: Python专家，负责API架构设计
- **AI研究员 (李莉)**: 负责影像分析算法开发
- **前端开发 (张强)**: 负责Demo界面开发
- **QA工程师 (刘静)**: 负责系统测试和医疗数据验证
- **DevOps工程师 (郭刚)**: 负责系统部署和监控
- **医学顾问 (杨医生)**: 提供医学专业知识和用户需求
- **你**: 作为Scrum Master，负责协调团队工作，确保项目顺利进行，解决团队遇到的问题和困惑，调查系统疑点

## 技术与约束

> **请查看**: [简化约束指南](./dt_medical_imaging_api/constraints/exercise_constraints_simplified.md) 获取基本技术建议和灵活的指导方针。

## 方法论

这个练习系列采用了"思考驱动开发"（Thinking-Driven Development）的方法论，强调在编写代码前充分思考和分析需求，然后逐步深化实现过程。这种方法特别适合与AI结对编程，因为它充分利用了AI的分析能力和理论知识，同时通过人类开发者的指导保持实用性和可行性。

### 核心原则

1. **先思考，后编码**：每个任务都从需求分析和实现思考开始，确保理解问题本质后再着手编码。

2. **渐进式深化**：通过五步法（需求分析 → 行动计划 → 测试设计 → 功能实现 → 文档完善）逐步深化开发过程。

3. **测试驱动开发**：强调先设计测试再实现功能，确保代码质量和功能正确性。

4. **文档即代码**：将文档视为开发过程的核心组成部分，而非事后添加的内容。

5. **人机协作**：充分发挥AI在分析、设计和编码方面的能力，同时利用人类开发者的判断力和领域知识。

## 练习列表与描述

> **注意**：本文档包含ExMS_20、ExMS_21和ExMS_22宏观任务练习。

### 宏观任务练习

> 宏观任务练习包含三个完整项目级别的任务，适合进阶学习者。这些任务将帮助您将之前学到的微功能技能整合到一个连贯的项目中，体验完整的医学影像API设计与实现过程。

#### ExMS_20: 医学影像API整体架构设计

> **目标**: 利用AI辅助进行完整的医学影像API架构设计，包括模块划分、数据流、接口定义和部署考量。通过这个练习，您将体验如何与AI一起进行高级系统架构设计。
>
> **输入**:
> * `inputs/requirement_ms_full_api.md`（包含完整API需求）
> * 前面微功能开发练习的成果和经验
>
> **AI助手角色**:
> * 分析完整的系统需求
> * 提出整体架构设计
> * 设计模块结构和职责划分
> * 定义模块间接口和数据流
> * 考虑性能、扩展性和安全性
> * 规划部署和维护策略
>
> **输出位置与方式**:
> * **输出目录**: `outputs/ExMS_20_Architecture/`
> * **最终产物**: 
>   * `architecture_design.md` - 包含架构图、模块说明、数据流、接口定义的详细文档
>   * `api_interface_definitions.py` - 关键接口定义代码

#### ExMS_21: API性能优化与测试

> **目标**: 利用AI辅助对医学影像API进行性能分析、瓶颈识别和优化，并设计性能测试方案。通过这个练习，您将体验如何与AI一起进行系统性能优化。
>
> **输入**:
> * `outputs/ExMS_20_Architecture/architecture_design.md`
> * 微功能实现代码和测试用例
>
> **AI助手角色**:
> * 分析系统性能需求和潜在瓶颈
> * 提出针对性的优化策略
> * 设计性能测试方案和基准测试
> * 实现优化和测试代码
> * 分析测试结果并提出进一步优化建议
>
> **输出位置与方式**:
> * **输出目录**: `outputs/ExMS_21_Performance/`
> * **最终产物**: 
>   * `performance_analysis.md` - 性能分析和优化策略文档
>   * `performance_test.py` - 性能测试代码
>   * `optimized_components/` - 优化后的关键组件

#### ExMS_22: API文档与示例应用

> **目标**: 利用AI辅助为医学影像API创建专业的文档和示例应用，向用户展示API的使用方式。通过这个练习，您将体验如何与AI一起创建高质量的开发者文档和示例代码。
>
> **输入**:
> * `outputs/ExMS_20_Architecture/architecture_design.md`
> * 实现的API组件和功能代码
>
> **AI助手角色**:
> * 创建全面的API文档，包括概述、安装指南、API参考和最佳实践
> * 设计有代表性的示例应用，展示API的核心功能
> * 编写清晰的示例代码和教程
> * 提供常见问题解答和故障排除指南
>
> **输出位置与方式**:
> * **输出目录**: `outputs/ExMS_22_Documentation/`
> * **最终产物**: 
>   * `api_documentation/` - 完整的API文档
>   * `example_applications/` - 包含多个示例应用的目录
>   * `tutorials/` - 详细的教程文档和代码