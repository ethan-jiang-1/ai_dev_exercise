# BMI 计算函数文档

## 功能说明

`bmi_calculate` 函数用于计算身体质量指数（Body Mass Index, BMI）。BMI 是一个用于评估人体胖瘦程度的常用指标，计算公式为：体重（千克）除以身高（米）的平方。

## 接口定义

### 函数签名
```python
def bmi_calculate(height_m: float, weight_kg: float) -> float:
```

### 参数说明
- `height_m` (float): 身高，单位为米
  - 必须是数字类型（整数或浮点数）
  - 必须大于 0
  - 示例值：1.75

- `weight_kg` (float): 体重，单位为千克
  - 必须是数字类型（整数或浮点数）
  - 必须大于 0
  - 示例值：70

### 返回值
- 类型：float
- 说明：计算得到的 BMI 值，保留两位小数
- 计算公式：weight_kg / (height_m ** 2)

### 异常说明
1. TypeError
   - 触发条件：输入参数不是数字类型（包括字符串、None、布尔值等）
   - 错误信息：`"身高和体重必须是数字类型"`

2. ValueError
   - 触发条件：输入参数小于或等于 0
   - 错误信息：
     - 身高无效：`"身高必须大于0"`
     - 体重无效：`"体重必须大于0"`

## 使用示例

### 1. 基本用法
```python
# 计算 BMI：身高 1.75 米，体重 70 千克
bmi = bmi_calculate(1.75, 70)
print(f"BMI: {bmi}")  # 输出：BMI: 22.86
```

### 2. 使用整数输入
```python
# 使用整数：身高 2 米，体重 80 千克
bmi = bmi_calculate(2, 80)
print(f"BMI: {bmi}")  # 输出：BMI: 20.00
```

### 3. 异常处理示例
```python
try:
    bmi = bmi_calculate("170", "60")  # 错误：使用字符串
except TypeError as e:
    print(f"类型错误: {e}")  # 输出：类型错误: 身高和体重必须是数字类型

try:
    bmi = bmi_calculate(0, 70)  # 错误：身高为零
except ValueError as e:
    print(f"值错误: {e}")  # 输出：值错误: 身高必须大于0
```

## 实现说明

### 精度处理
- 使用 `round(bmi, 2)` 确保返回值保留两位小数
- 四舍五入规则遵循 Python 的 round 函数标准

### 输入验证
1. 类型验证
   - 使用 `isinstance()` 检查参数类型
   - 特别处理了布尔值（不允许作为输入）
   
2. 值范围验证
   - 确保输入值严格大于 0
   - 在计算前进行验证，避免无效计算

### 性能考虑
- 函数执行效率高，仅包含基本的数学运算
- 内存占用最小，无需额外空间
- 无状态设计，适合频繁调用

## 注意事项

1. 输入单位
   - 身高必须以米为单位（如：1.75，而不是 175）
   - 体重必须以千克为单位（如：70，而不是 70000）

2. 特殊情况
   - 不接受布尔值作为输入（即使 True=1，False=0）
   - 不进行单位转换，用户需要自行确保单位正确

3. 建议使用范围
   - 身高：建议在 0.1 到 3.0 米之间
   - 体重：建议在 0.1 到 300 千克之间

## 测试覆盖

函数经过完整的单元测试验证，包括：
- 正常输入测试（整数、浮点数）
- 边界值测试（极小值、极大值）
- 异常输入测试（类型错误、值错误）
- 精度测试（确保两位小数的准确性） 