# BuyMore 推荐系统升级 - 需求讨论会议记录
日期: 2023年5月10日
时间: 14:00-16:15
地点: 线上会议 (Zoom)
记录人: 张文 (后端开发)

## 参会人员
- 李明 (产品经理, PM)
- 张涛 (后端负责人, TL)
- 王琳 (数据科学家, DS)
- 赵强 (前端开发, FE)
- 陈静 (QA工程师, QA)
- 刘刚 (DevOps工程师, OPS)
- 周杰 (UX设计师, UX)
- 张文 (后端开发, BE) - 记录人

## 会议内容

李明(PM): 好，大家下午好，感谢抽时间参加这次BuyMore推荐系统升级的需求讨论会议。今天主要是确定我们的推荐系统2.0版本的核心需求。我已经把PRD初稿发到了群里，大家看了吗？

赵强(FE): 看了，不过有些技术细节还是不太清楚。

陈静(QA): 我也看了，有几个测试点还需要讨论一下。

张涛(TL): 大家先简单浏览一下PRD，我们可以先讨论一下大的方向，然后再深入细节。现在系统有什么问题，以及我们想达到什么目标？

李明(PM): 好的。目前我们的推荐系统是基于简单规则的，主要是"相似商品推荐"和"热门商品推荐"两种模式。根据数据分析，现有系统的转化率只有2.3%，远低于行业平均的3.8%。我们希望通过这次升级，能够提高推荐相关性，增加用户停留时间，最终提升转化率至少到3.5%。

王琳(DS): 我认为关键在于个性化推荐。目前我们只考虑了商品属性和热度，没有考虑用户的历史行为和偏好。

李明(PM): 对，所以我们这次想引入用户画像系统，基于用户的浏览历史、购买记录、搜索关键词等构建用户兴趣模型。

张涛(TL): 这个变动很大啊。从技术上讲，我们需要一个用户行为跟踪系统、数据处理管道和推荐算法引擎，整个架构都要重新设计。

周杰(UX): 从用户体验角度，我们也需要考虑如何展示这些推荐结果，以及如何收集用户反馈来不断优化算法。

[有人敲门，李明短暂离开]

赵强(FE): 说到UI，我们前端也需要重新设计推荐模块的展示方式。目前只有商品列表页底部的"猜你喜欢"，我觉得可以在更多场景加入推荐。

周杰(UX): 对，我正在设计几个新的推荐位，包括商品详情页的"相关商品"、购物车页的"购买该商品的用户也购买了"，以及支付成功页的"基于本次购买的推荐"。

[李明回来]

李明(PM): 抱歉，刚才有点事。我们继续。关于推荐场景，我们确实想扩展，初步规划了这几个场景：首页个性化推荐、商品详情页相关推荐、购物车页面交叉销售、支付成功页推荐、以及站内搜索结果优化。

张涛(TL): 这么多场景，后端API设计要考虑可复用性和性能。我建议设计一个统一的推荐API，支持不同场景的参数配置。

王琳(DS): 从算法角度，不同场景可能需要不同的模型，例如首页个性化推荐可能用协同过滤，而商品详情页的相关推荐可能更适合基于内容的推荐。

张涛(TL): 那我们是否需要支持多种算法，并能够根据场景动态选择？

王琳(DS): 是的，理想情况下，我们需要一个算法框架，支持不同算法的插件式集成，便于后续扩展和优化。

刘刚(OPS): 这样系统复杂度会大幅上升，对基础设施和监控的要求也会提高。我们需要考虑如何部署、监控和扩展这样的系统。

陈静(QA): 还有测试和评估的问题。我们如何确定新系统比旧系统更好？需要哪些指标和评估方法？

李明(PM): 好问题。除了最终的转化率指标，我们还需要跟踪点击率、用户停留时间、推荐多样性等中间指标。

王琳(DS): 我们可以设计A/B测试框架，在小范围内评估不同算法的效果，再逐步推广。

张涛(TL): 好，那我整理一下技术需求点：
1. 用户行为数据收集API
2. 用户画像构建服务
3. 多场景统一推荐API
4. 算法引擎框架，支持多种算法
5. A/B测试支持
6. 性能和可扩展性考虑

李明(PM): 还有一点，我们希望系统能够支持实时推荐。比如用户刚刚浏览了某个商品，我们立即能在其他页面反映出这一兴趣变化。

张涛(TL): 这对技术架构要求更高了。实时处理需要消息队列和流处理系统，会增加开发复杂度。

赵强(FE): 前端也需要支持实时更新推荐结果，可能需要WebSocket或轮询机制。

[有人送来外卖，中断几分钟]

张文(BE): 关于推荐API的具体需求，前端需要哪些数据来展示？推荐结果包含哪些字段？

赵强(FE): 至少需要商品ID、名称、图片URL、价格、促销信息，以及推荐理由（例如"因为你看过XX"）。

周杰(UX): 推荐理由很重要，能增加用户信任和点击意愿。我们做过用户调研，显示有推荐理由的推荐点击率提高20%以上。

李明(PM): 对，所以API需要返回推荐理由。此外，我们还想支持个性化排序和过滤，比如根据用户偏好调整排序，或者过滤掉用户已购买的商品。

张涛(TL): 好的，那API需要支持这些参数：场景类型、用户ID、当前商品ID（如适用）、推荐数量、排序规则、过滤条件等。

王琳(DS): 还有一点，为了提高多样性，我们可能需要控制同类商品的数量，避免推荐结果过于单一。

张涛(TL): 这也可以作为API的一个参数，控制结果的多样性。

刘刚(OPS): 从运维角度，我们需要考虑高可用性和灾难恢复。推荐系统挂了，不应该影响整个电商平台的运行。

张涛(TL): 是的，我们需要设计成服务降级机制，当推荐服务不可用时，可以回退到基础规则推荐或者缓存的结果。

[张涛接了个电话，短暂中断]

陈静(QA): 关于测试，我们需要构建一个测试数据集，覆盖不同用户画像和场景。还需要模拟用户行为来测试实时推荐功能。

李明(PM): 对的，我会和数据团队协调，提供一些历史数据用于测试。

张涛(TL): [回来] 抱歉，刚才有点紧急情况。我们刚才讨论到哪了？

李明(PM): 我们在讨论测试数据的问题。对了，还有推荐系统的迭代周期，我们希望能够快速迭代算法，而不需要整个系统重新部署。

王琳(DS): 这需要算法和系统分离，算法可以单独更新和部署。我们可以设计一个模型服务，通过配置文件或管理界面来更新算法参数。

张文(BE): 这样我们需要一个管理后台，用于配置和管理推荐规则、算法参数等？

李明(PM): 是的，管理后台是必需的，但可以放在第二期开发，第一期可以先通过配置文件实现。

赵强(FE): 我们前端首页改版也计划在下个月进行，推荐系统的升级需要和首页改版协调一下时间。

李明(PM): 好的，我会协调各团队的时间表。根据当前计划，推荐系统升级初步定在9月底上线，这样可以赶上第四季度的销售旺季。

[讨论项目时间表，略过]

李明(PM): 好的，让我总结一下今天的讨论。我们确定要升级推荐系统，引入用户画像和个性化推荐，支持多种推荐场景，包括实时推荐能力。后端需要设计统一的推荐API，支持多种算法和A/B测试。我们会分两期开发，第一期完成核心功能，第二期增加管理后台等功能。

张涛(TL): 从技术实现角度，我们需要进一步讨论架构设计和技术选型。我建议下周安排一次技术讨论会。

李明(PM): 好的，我会安排。还有其他问题吗？

周杰(UX): 需求基本清晰了，我们UX团队会开始设计新的推荐模块UI。

陈静(QA): 我需要更详细的API规格来设计测试用例。

张涛(TL): 我们会尽快提供API设计文档。

李明(PM): 好的，那今天就到这里。我会整理会议纪要发给大家，并安排下一次技术讨论会。谢谢大家参与！

## 行动项目

1. 李明：完善PRD文档，协调各团队时间表
2. 张涛：组织技术讨论会，设计系统架构和API
3. 王琳：调研和设计推荐算法框架
4. 赵强&周杰：设计前端UI和交互
5. 张文：研究用户行为数据收集实现方案
6. 陈静：设计测试策略和评估指标
7. 刘刚：评估基础设施需求和监控方案

## 遗留问题

1. 如何处理冷启动问题（新用户或新商品没有历史数据）
2. 隐私合规问题，用户数据收集和使用需符合相关法规
3. 推荐系统性能指标定义，如响应时间、系统资源占用等
4. 推荐算法的具体选择和参数调优方法
5. 与现有系统的集成和兼容性问题
