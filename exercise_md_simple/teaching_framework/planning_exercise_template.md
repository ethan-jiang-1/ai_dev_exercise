# 规划文档：AI+Markdown 练习框架：支持多故事实例

本文档概述了用于创建一系列 AI+Markdown 练习的**框架设计**。该框架基于 `thinking_driven_development_with_ai.md` 的核心理念，旨在支持**多个独立的"故事"或"案例场景"**，同时复用一套通用的**练习类型定义**。重点是使用 AI 处理 Markdown 以完成常见的研发任务。

## 目标 (Goal)

设计一个可扩展的练习框架，其中：
1.  定义一套**通用的、可复用的练习类型 (Exercise Templates)**，这些类型演示 `thinking_driven_development_with_ai.md` 中描述的 AI + Markdown 技术的实际应用。
2.  允许用户为**不同的故事实例 (Story Instances)**（例如不同的项目或场景）提供独立的输入数据和存储独立的输出结果。
3.  阐明框架的核心 "Capture -> Transform -> Deliver -> Evolve" 循环如何在不同练习类型和故事中体现。
4.  练习将主要聚焦于后端 Python 开发场景，以便于实验。

## 核心设计理念：一套模板，多个故事

本框架的核心设计理念是：**一套通用的练习类型定义，应用于多个不同的故事场景**。

这意味着：
1. **练习类型**是通用的，定义了操作类型、AI能力运用方式和评估标准，存储在根目录的本文档中
2. **故事实例**是具体的，提供特定领域或场景的上下文和数据，每个故事拥有独立的目录
3. 学习者可以：
   - 通过不同故事实践相同类型的练习，强化技能的迁移能力
   - 选择与自己兴趣或工作最相关的故事场景，提高学习的相关性
   - 在熟悉的故事背景中尝试不同类型的练习，循序渐进地掌握全栈技能
4. 教学者可以：
   - 轻松添加新的故事场景，无需修改底层教学模型
   - 为不同背景的学习者提供定制化的学习体验
   - 通过相同的评估标准对比不同故事场景下的练习结果

这种"模板与实例分离"的设计促进了知识的可迁移性，同时保持了学习体验的相关性和针对性。

## 框架与故事实例的关系

本框架采用"抽象到具体"的三层设计：

1. **核心理念层** (`thinking_driven_development_with_ai.md`)：
   - 定义思考驱动开发的基本原则
   - 确立Scrum Master的角色定位
   - 规范与AI协作的方法论
   - 建立思维留痕的重要性

2. **练习框架层** (本文档)：
   - 基于核心理念定义通用练习类型
   - 设计练习的输入输出模式
   - 规范评估标准和实施方法
   - 提供练习类型目录（ExMS_01到ExMS_15）

3. **故事实例层**：
   - `story_ecommerce_recommendation.md`：将练习类型应用于电商推荐场景
   - `story_medical_imaging_api.md`：将练习类型应用于医疗影像场景
   - `story_financial_risk_assessment.md`：将练习类型应用于金融风控场景

每个故事实例都是对框架的具体实现：
1. 遵循 `thinking_driven_development_with_ai.md` 的核心理念
2. 采用本文档定义的练习类型（ExMS系列）
3. 在特定领域场景下实践这些练习
4. 提供领域特定的输入文件和输出示例

例如，ExMS_01"从会议记录提取用户故事"这个练习类型在不同故事中的具体应用：
- 电商推荐：从产品会议中提取推荐算法需求
- 医疗影像：从医生访谈中提取影像处理需求
- 金融风控：从合规会议中提取风控规则需求

这种设计确保了：
- 练习方法的一致性（通过统一的框架）
- 实践场景的多样性（通过不同的故事）
- 学习路径的灵活性（可自选故事和练习）
- 评估标准的统一性（通过共同的评估框架）

## 假设的工具与能力

这些练习假设使用具备以下能力的 AI 助手（如 Cursor）：
*   处理指令的自然语言理解能力。
*   代码生成和解释能力（尤其是 Python）。
*   读取工作区内文件和写入文件的能力。
*   Markdown 渲染和生成技能（包括 Mermaid 图表）。

## 提议的目录结构 (支持多故事)

```
exercise_md_simple/
├── teaching_framework/                     (框架文档目录)
│   ├── thinking_driven_development_with_ai.md  (思考驱动开发核心理念)
│   └── planning_exercise_template.md       (本文件 - 练习框架设计规划)
|
├── story_example_ecommerce_recommendation/ (故事实例 1：电商推荐)
│   ├── story_ecommerce_recommendation.md   (故事描述文件)
│   ├── inputs/                           (电商故事的输入文件)
│   │   ├── meeting_notes_raw.txt         (示例：电商项目会议记录)
│   │   └── ...
│   └── outputs/                          (电商故事的练习输出)
│       ├── ExMS_01_ReqToUserStory/       (示例：电商故事练习 1 的输出)
│       │   └── user_stories_v1.md
│       └── ...
|
├── story_example_medical_imaging_api/    (故事实例 2：医疗影像 API)
│   ├── inputs/                           (医疗故事的输入文件)
│   │   ├── api_design_v0.md              (示例：医疗 API 初稿)
│   │   └── ...
│   └── outputs/                          (医疗故事的练习输出)
│       ├── ExMS_05_ApiSpecToTestcase/    (示例：医疗故事练习 5 的输出)
│       │   └── test_cases_v1.md
│       └── ...
|
└── ... (可以添加更多故事实例目录)
```

## 框架文件说明

本框架包含两个核心文件：

1. **思考驱动开发核心理念** (`thinking_driven_development_with_ai.md`)
   - 定义了与AI协作的基本原则和方法论
   - 确立了Scrum Master的角色定位
   - 规范了思维留痕的重要性
   - 提供了AI协作的最佳实践

2. **练习框架设计规划** (本文件 `planning_exercise_template.md`)
   - 定义了一套完整的练习类型体系
   - 提供了练习的实施指南和评估标准
   - 规范了练习的输入输出格式
   - 设计了可扩展的多故事支持机制

这两个文件形成了完整的框架体系：核心理念文件提供思想指导，本文件则将这些理念转化为可执行的练习框架。每个故事实例都是这个框架的具体实现，在特定领域场景下应用这些练习类型。

## 练习设计与定义流程

1.  **识别通用练习类型**: 回顾 `thinking_driven_development_with_ai.md`，特别是以下部分：
    *   `核心理念：思维留痕，驾驭AI`
    *   `三种思维模式的力量：AI时代的融合`
    *   `证据链：思维痕迹即资产与AI指令`
    *   `具体步骤：让人与AI的思考都可见`
    *   `练习者角色定位：Scrum Master思维`
    *   识别出可以抽象为通用**练习类型 (Exercise Template)** 的任务。
2.  **在本文档中定义练习模板**: 为每个识别出的练习类型创建条目，包含：
    *   **练习 ID 与名称**: 清晰的顺序 ID (例如 `ExMS_01_...`) 和描述性中文名称，代表练习的**类型**。
    *   **目标 (Goal)**: 该**类型**练习旨在让用户掌握的技能，并与框架概念关联。
    *   **理论/结构 (Theory/Structure)**: 该**类型**练习涉及步骤的简要概述 (Capture/Transform/Deliver)。
    *   **输入模式 (Input Pattern)**: 描述该**类型**练习期望的输入文件**特征或类型**（例如，"一份包含需求的 .txt 或 .md 会议记录"）。**不指定具体文件名**。
    *   **AI 助手角色 (AI Assistant Role)**: 描述在该**类型**练习中，AI 应扮演的角色和执行的操作。
    *   **复杂度分析 (Complexity Analysis)**: 低、中、高，表示该**类型**练习的普遍难度。
    *   **输出模式与位置 (Output Pattern & Location)**: 描述期望的输出文件**格式和内容**，并说明其应存储在**当前执行故事**的 `outputs/` 目录下，通常以练习 ID 命名的子目录中。**不指定具体路径**。
    *   **评估说明 (Evaluation Notes)**: 针对该**类型**练习的输出，提供通用的质量评估建议。
    *   **框架链接与 AI 限制 (Framework Link & AI Limitations)**: 链接到框架的相关部分，并提示该**类型**任务中常见的 AI 限制。
3.  **为具体故事创建输入文件**: 在**每个故事实例**的 `inputs/` 目录下，创建符合练习模板输入模式的**具体文件**。
4.  **审查与完善**: 审查本文档（模板库）的清晰性、一致性和可行性。

## 如何使用框架进行练习 (用户视角)

1.  **选择一个故事实例**: 进入一个故事目录，例如 `cd story_example_ecommerce_recommendation/`。
2.  **选择一个练习类型**: 查阅本文档中定义的练习类型，选择一个希望练习的类型，例如 `ExMS_01: 从会议记录提取 Python API 用户故事`。
3.  **理解练习要求**: 阅读该练习类型的目标、AI 角色、输入/输出模式和评估说明。
4.  **定位故事的输入文件**: 根据练习类型的"输入模式"描述，在**当前故事**的 `inputs/` 目录中找到对应的具体文件（例如 `inputs/meeting_notes_raw.txt`）。
5.  **执行练习**: 使用 AI 助手（如 Cursor），结合练习类型的通用要求和当前故事的具体输入文件，完成任务。
6.  **保存故事的输出**: 将 AI 生成的结果，按照练习类型中"输出模式与位置"的描述，保存在**当前故事**的 `outputs/` 目录下对应的子目录中（例如 `outputs/ExMS_01_ReqToUserStory/user_stories_v1.md`）。
7.  **反思与评估**: 参考练习类型的"评估说明"和"价值衡量"部分，评估结果并反思。

## 输入文件设计原则 (针对具体故事)

* **故事相关性**: 输入文件内容需与所属故事实例的背景和目标一致。
* **真实性**: 模拟实际工作场景中可能遇到的文档格式和内容。
* **包含噪声**: 适当添加无关信息，锻炼 AI 的信息提取能力。
* **聚焦 Python**: 所有技术示例均使用 Python 后端开发场景。
* **适度复杂性**: 输入文件的复杂度和模糊性可根据故事或练习类型调整。

## AI 能力边界注意

在执行练习和评估结果时，请始终牢记 `thinking_driven_development_with_ai.md` 中提到的 **AI 能力边界**。特别是在涉及复杂逻辑、创新性或高度专业化的任务时，AI 生成的内容应作为初稿或辅助，并经过人工审核与完善。

## 后续步骤

1.  审查这份最终的规划文档。
2.  **选择或创建一个初始故事实例** (例如 `story_example_ecommerce_recommendation/`)。
3.  为该初始故事实例，在对应的 `inputs/` 目录中创建与本文档中定义的练习类型相匹配的**具体输入文件**。

---

# 练习类型索引与详细定义

以下是所有练习类型的索引和详细定义，按复杂度分类。这些定义应用于所有故事实例，提供了一套统一的格式和评估标准。

## 练习类型索引

### 基础练习类型 (低复杂度)

*   **ExMS_01:** [从会议记录提取 Python API 用户故事](#exms_01-从会议记录提取-python-api-用户故事-立项) (立项)
*   **ExMS_02:** [从服务描述生成 Mermaid 架构图](#exms_02-从服务描述生成-mermaid-架构图-设计) (设计)
*   **ExMS_03:** [为 Python 函数生成文档字符串](#exms_03-为-python-函数生成文档字符串-开发) (开发)
*   **ExMS_04:** [为 Python 模块生成代码模板](#exms_04-为-python-模块生成代码模板-开发) (开发)
*   **ExMS_05:** [从 API 规格生成测试用例](#exms_05-从-api-规格生成测试用例-测试) (测试)
*   **ExMS_06:** [生成 Python 框架选型技术决策日志](#exms_06-生成-python-框架选型技术决策日志-开发) (开发)
*   **ExMS_07:** [生成 Python 测试结果摘要](#exms_07-生成-python-测试结果摘要-测试) (测试)
*   **ExMS_08:** [生成 Python 微服务部署核对表](#exms_08-生成-python-微服务部署核对表-运维) (运维)
*   **ExMS_09:** [从 Python 异常日志生成 Runbook 步骤](#exms_09-从-python-异常日志生成-runbook-步骤-运维) (运维)
*   **ExMS_10:** [从故障日志生成事件报告](#exms_10-从故障日志生成事件报告-运维) (运维)

### 进阶练习类型 (中复杂度)

*   **ExMS_11:** [标记过时 API 文档并生成更新建议](#exms_11-标记过时-api-文档并生成更新建议-知识新陈代谢) (知识新陈代谢)
*   **ExMS_12:** [将技术 API 文档转化为产品团队理解的功能说明](#exms_12-将技术-api-文档转化为产品团队理解的功能说明-跨团队协作) (跨团队协作)
*   **ExMS_13:** [同时生成函数文档与对应测试用例](#exms_13-同时生成函数文档与对应测试用例-开发测试集成) (开发+测试集成)
*   **ExMS_14:** [分析错误日志生成根因报告并提供 Runbook](#exms_14-分析错误日志生成根因报告并提供-runbook-运维集成) (运维集成)

### 综合练习类型 (高复杂度)

*   **ExMS_15:** [从需求到部署的文档转换链](#exms_15-从需求到部署的文档转换链-全流程整合) (全流程整合)

## 练习类型详细定义

### ExMS_01: 从会议记录提取 Python API 用户故事 (立项)

**目标**: 练习使用 AI 从非结构化的会议记录文本中准确提取 Python API 相关的核心需求点，并将其转化为标准的用户故事格式。这种能力有助于减少需求理解的偏差，提高团队沟通效率，并为后续开发奠定清晰基础。

**理论/结构**: 这是信息提取和结构化的基础练习，体现了框架的 "Capture" 环节。基本步骤：
1. 阅读非结构化会议记录文本
2. 识别与 Python API 相关的需求描述
3. 区分核心功能需求与非功能性需求
4. 将识别的需求转换为标准用户故事格式
5. 对用户故事进行优先级排序（可选）

**输入模式**: 一份包含产品讨论内容的会议记录文本文件（`.txt` 或 `.md`）。该文件通常包含：
- 会议基本信息（时间、参与者等）
- 背景讨论
- 功能需求点（散布在讨论中）
- 非功能性要求
- 杂项讨论和其他不相关内容

**AI 助手角色**: 
- 仔细阅读会议记录
- 识别所有与 Python API 相关的需求描述，包括明确的和隐含的
- 将这些需求转换为以下标准格式的用户故事：
  ```
  作为 [用户角色]，
  我希望 [能够做什么]，
  以便 [实现什么价值/目的]。
  ```
- 按逻辑顺序组织这些用户故事
- 针对每个用户故事，提供一个简短的验收标准列表

**复杂度分析**: 低。这是一个基础的信息提取和格式化任务，但需要 AI 理解软件开发上下文并识别相关的技术需求，区分核心与非核心内容。

**输出模式与位置**: 
- 输出应为一个结构良好的 Markdown 文件，包含从会议记录中提取的所有用户故事
- 每个用户故事应包括角色、期望功能和价值/目的
- 用户故事下方应有简短的验收标准列表
- 文件应保存在当前执行故事的 `outputs/ExMS_01_ReqToUserStory/` 目录中，建议命名为 `user_stories_v1.md`

**评估说明**:
- 检查是否捕获了会议记录中的所有关键需求
- 检查用户故事格式是否正确（角色、功能、价值）
- 评估 AI 是否正确理解了技术上下文和术语
- 检查是否排除了会议记录中的无关信息
- 判断验收标准是否具体且可测试

**框架链接与 AI 限制**: 
- 本练习对应框架中"立项阶段 → 从模糊到清晰"的应用场景
- 参考框架样板: "提取本次会议记录中的核心需求点，输出为 Markdown 用户故事列表"
- AI 限制: AI 可能会错过一些隐含需求或误解特定领域术语，尤其是在高度专业化的讨论中。用户故事的"价值"部分通常需要人工优化，因为 AI 可能无法完全理解业务背景。

**价值衡量**:
- 文档创建时间↓: 手动整理会议记录到用户故事可能需要1-2小时，AI 可将时间缩短到几分钟
- 知识检索速度↑: 结构化的用户故事比原始会议记录更易于查阅和理解
- 团队沟通轮次↓: 清晰的用户故事可减少团队间的沟通误解和澄清次数
- 信息一致性↑: 标准化的用户故事格式确保需求表达的一致性

### ExMS_02: 从服务描述生成 Mermaid 架构图 (设计)

**目标**: 练习使用 AI 从文本描述中识别系统架构要素，并将其转换为清晰的 Mermaid 流程图或架构图。这种能力有助于将抽象的系统描述可视化，促进团队对系统设计的理解和讨论。

**理论/结构**: 这是信息可视化的基础练习，体现了框架的 "Transform" 环节。基本步骤：
1. 阅读服务或系统的文本描述
2. 识别核心组件、服务、数据流和交互
3. 确定合适的图表类型（流程图、序列图、类图等）
4. 使用 Mermaid 语法创建相应的图表
5. 添加必要的注释和说明

**输入模式**: 一份描述服务架构、组件或流程的文本文件（`.txt` 或 `.md`）。该文件通常包含：
- 系统或服务的概述
- 主要组件和模块描述
- 数据流向和交互说明
- 技术细节和实现注意事项
- 可能的约束或限制条件

**AI 助手角色**: 
- 仔细分析服务描述文本
- 识别关键组件、服务和它们之间的关系
- 确定最适合表达这种架构的 Mermaid 图表类型
- 创建语法正确的 Mermaid 代码，清晰展示系统架构
- 为图表添加简洁的标题和说明
- 提供对图表的简短解释

**复杂度分析**: 低到中。需要 AI 理解系统架构概念，并将文本描述转换为结构化的可视表示，同时需要正确使用 Mermaid 语法。

**输出模式与位置**: 
- 输出应为一个 Markdown 文件，包含嵌入的 Mermaid 图表代码
- 图表应准确反映输入描述中的系统架构
- 文件应包含对图表的简短解释
- 文件应保存在当前执行故事的 `outputs/ExMS_02_ServiceToMermaid/` 目录中，建议命名为 `service_flow_v1.md`

**评估说明**:
- 检查 Mermaid 语法是否正确
- 评估图表是否完整捕获了所有关键组件和关系
- 判断图表类型选择是否适当（流程图、序列图等）
- 检查图表的可读性和清晰度
- 评估解释是否准确描述了图表内容

**框架链接与 AI 限制**: 
- 本练习对应框架中"设计阶段 → 从抽象到可视"的应用场景
- 参考框架样板: "根据此 UI 描述，生成可嵌 Mermaid 的流程图和关键组件说明"
- AI 限制: AI 可能难以从不完整或模糊的描述中推断完整的系统架构，对于特别复杂的系统或非标准架构模式可能需要人工补充。Mermaid 图表的美观性和布局优化也可能需要人工调整。

**价值衡量**:
- 文档创建时间↓: 手动创建架构图可能需要30-60分钟，AI 可将时间缩短到几分钟
- 知识检索速度↑: 可视化的架构图比文本描述更易于理解和记忆
- 团队沟通轮次↓: 清晰的架构图可减少对系统设计的误解和疑问
- 信息一致性↑: 标准化的 Mermaid 图表确保系统描述的一致表达 