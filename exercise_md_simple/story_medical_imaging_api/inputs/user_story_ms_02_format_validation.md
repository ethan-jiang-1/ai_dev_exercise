# 用户故事：DICOM 格式验证

## 用户故事

作为医疗影像系统管理员，我需要一个工具来验证上传的DICOM文件是否符合我们系统的格式要求，以确保只有有效的DICOM文件被添加到我们的数据库中。

## 验收标准

1. 能够验证文件是否为有效的DICOM格式，包括:
   - 验证DICOM前导码和文件元素
   - 确认必要的DICOM标签存在（例如SOPClassUID, SOPInstanceUID）
   - 验证文件结构的完整性

2. 能够验证DICOM文件是否包含以下必要元素:
   - 患者ID (PatientID)
   - 研究UID (StudyInstanceUID)
   - 系列UID (SeriesInstanceUID)
   - 模态 (Modality)

3. 返回详细的验证结果，包括:
   - 整体验证状态（通过/失败）
   - 具体的失败原因（如适用）
   - 验证通过的具体标签列表

4. 当文件不存在或无法访问时提供适当的错误信息

5. 验证过程执行时间不超过2秒

## 技术约束

1. 使用Python 3.10+
2. 使用pydicom库进行DICOM文件验证
3. 实现为单个函数，不需要创建类
4. 不需要验证像素数据的完整性
5. 专注于文件格式和元数据的验证

## 注意事项

- 这是一个基础验证功能，不需要实现高级DICOM一致性检查
- 未来可能需要根据不同模态(CT, MRI等)扩展验证规则
- 用户可能提供各种格式的文件进行验证
- 函数应返回明确的验证结果，便于上层应用程序处理 