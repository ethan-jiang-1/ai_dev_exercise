# NovaBrain 客户服务日志摘录 (2024年2月)

*整理：客户成功团队*

## 引言
本月客户反馈集中在系统稳定性、特定场景下的功能表现以及对新功能的需求。以下为典型事件记录与分析，旨在持续改进产品与服务。

## 事件记录 01：券商风控模型推理延迟飙升，触发紧急回滚

*   **时间**: 2024/2/14 03:14 - 04:05
*   **客户**: 某头部证券公司，核心交易系统
*   **现象**: 线上风控模型（部署于 NovaBrain）推理延迟突然从日常的 ~150ms 飙升至 >1000ms，长时间无响应，触发业务层交易熔断机制。监控面板显示相关 GPU 节点负载异常，但未完全宕机。
*   **客户反馈 (运维负责人李工，电话录音整理)**: "凌晨三点多，警报响个不停，交易通道都停了！我们判断是风控模型卡住了，立刻联系你们要求紧急回滚到昨天确认过的 V2.3 版本。这要是发生在开盘时间，后果不堪设想！"
*   **技术支持处理过程**: 
    *   03:17: 一线支持工程师接到电话，同步启动应急响应流程，二线架构师介入。
    *   03:19: 通过 NovaBrain 管控台确认模型服务状态异常，推理请求大量堆积。
    *   03:23: 执行预案，使用平台"一键回滚"功能，将线上推理服务指向 V2.3 版本的模型实例。执行过程耗时约 4 分钟。
    *   03:28: 客户确认交易系统恢复正常，延迟恢复至 ~160ms。
    *   03:30 - 04:05: 问题根源排查。通过分析 GPU 利用率、显存占用、节点日志及平台调度日志，发现：与风控模型部署在同一物理节点的另一个低优先级批量数据处理任务，在运行过程中发生异常，占用了远超其配额的显存资源，并触发了底层的 CUDA 驱动错误。该错误导致 GPU 部分计算单元锁死，进而影响了高优先级的风控模型推理。
*   **根本原因**: 平台资源隔离机制在特定异常场景下（低优先级任务异常消耗资源 + 底层驱动错误）未能完全生效，导致故障跨任务、跨优先级传播。
*   **改进措施**: 
    1.  **平台层面**: 优化 CGroup 和 Nvidia Docker 的资源隔离配置，增加更精细的显存和计算单元隔离；增强平台对底层驱动错误的监控和自愈能力（如自动隔离故障节点）。(责任人：架构组，预计 V3.2 版本上线)
    2.  **运维层面**: 建议客户将核心实时任务与低优先级批量任务部署在不同的物理节点组，增加物理隔离。（责任人：客户成功经理，已与客户沟通）
    3.  **流程层面**: 更新应急预案，加入此类底层故障的快速诊断步骤。

## 事件记录 02：医院影像 AI 辅助诊断系统误标左右肺

*   **时间**: 2024/2/18 22:08 (客户邮件反馈)
*   **客户**: 某三甲医院影像科
*   **现象**: 医生在使用 NovaBrain 平台部署的肺结节辅助检测模型时，发现系统将一例 CT 影像中的左肺可疑结节错误地标记到了右肺区域。
*   **客户反馈 (影像科张主任，邮件原文)**: "...今晚复核一例胸部 CT 时，发现 AI 的标记位置明显错误（左右颠倒）。虽然我们的医生会最终把关，但这种低级错误不应该出现，会影响医生对系统的信任度。请尽快核查原因并解决。"
*   **技术支持处理过程**: 
    *   收到邮件后，立刻联系客户获取问题影像的脱敏数据和模型版本信息。
    *   工程师复现问题，确认是模型输出结果的坐标系发生了左右镜像翻转。
    *   排查数据处理流水线，发现在影像上传后的一个图像标准化预处理脚本中，存在一个逻辑 Bug：当处理源自特定型号 CT 设备的 DICOM 文件时，脚本错误地判断了图像的左右方向，并执行了不必要的水平翻转操作。
*   **根本原因**: 数据预处理脚本对特定 DICOM 元数据字段的解析存在缺陷，导致图像方向判断错误。
*   **改进措施**: 
    1.  **代码层面**: 修复预处理脚本中的 Bug，增加对更多 DICOM 标准和厂商特定字段的兼容性处理；增加图像方向一致性的自动化校验步骤。(责任人：算法平台组，已发布补丁)
    2.  **流程层面**: 强化模型上线前的测试用例，必须包含来自不同设备、不同扫描参数的影像数据。
    3.  **产品层面**: 考虑在模型推理结果的可视化界面，增加原始影像方向的标识，方便医生快速核对。

## 事件记录 03：制造企业预测性维护模型对老旧设备准确率偏低

*   **时间**: 2024/2/25 (客户季度业务回顾会)
*   **客户**: 某大型装备制造企业
*   **议题**: 部署在 NovaBrain 上的设备预测性维护模型，对几台役龄超过 15 年的关键老旧设备的故障预测准确率（Precision 和 Recall）显著低于较新设备。
*   **客户反馈 (设备工程部王厂长)**: "你们的 AI 对新设备挺准，但对那几台'老爷机'就经常报不准，要么提前好久就报警，要么快坏了也没反应。我们老师傅靠听声音、摸温度，都比它准。是不是模型没学到家？"
*   **联合分析**: 
    *   **数据层面**: 现有模型主要基于近 5 年内设备的数据训练，老旧设备的数据量少，且其故障模式、传感器特性（老化、漂移）与新设备存在显著差异。
    *   **知识层面**: 老师傅的诊断经验包含大量难以传感器量化、也未能在历史工单中充分记录的隐性知识。
    *   **模型层面**: 当前模型结构可能未能很好地捕捉老旧设备的特定衰退模式。
*   **后续行动计划**: 
    1.  **数据增强**: 启动针对老旧设备的专项数据采集项目，并尝试与老师傅合作进行更细致的"经验性标注"。
    2.  **模型优化**: 探索使用迁移学习、领域自适应等技术，利用新设备数据辅助老旧设备模型的训练；或为老旧设备单独训练专用模型。
    3.  **人机协同**: 探讨在系统中引入"老师傅经验反馈"机制，允许老师傅对 AI 的预测结果进行评分或修正，并将这些反馈用于模型的持续迭代。
    4.  **调整预期**: 与客户沟通，明确当前阶段 AI 对老旧设备预测的局限性，调整告警阈值和运维响应策略。

## 本月总结
客户反馈是产品迭代和服务改进的重要驱动力。本月事件反映出，在追求 AI 能力的同时，必须高度关注系统的鲁棒性、数据的质量以及与特定业务场景（特别是边缘场景）的深度融合。客户成功团队将继续与产品、研发紧密合作，将客户的声音转化为切实的改进。 